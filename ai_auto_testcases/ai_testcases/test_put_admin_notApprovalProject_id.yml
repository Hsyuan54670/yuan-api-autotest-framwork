not_approval_project_normal_success:
  allure:
    title: "项目审批-正常场景-项目不通过审批成功"
    description: "验证管理员对项目进行不通过审批，提供有效id和reason参数，接口返回成功响应"
    epic: "项目管理系统"
    feature: "项目审批模块"
    story: "项目不通过审批"
    tag: ["正常场景", "核心功能"]
    pytest_mark: "approval"
  steps:
    request:
      method: "PUT"
      url: "/admin/notApprovalProject/1"
      headers:
        Content-Type: "application/json"
      params:
        reason: "测试原因"
      json: {}
    expected:
      status_code: 200
      response:
        code: 200
        msg: "操作成功"
        data: {}
not_approval_project_abnormal_missing_reason:
  allure:
    title: "项目审批-异常场景-缺少reason参数"
    description: "验证当不提供reason查询参数时，接口返回参数缺失错误"
    epic: "项目管理系统"
    feature: "项目审批模块"
    story: "项目不通过审批"
    tag: ["异常场景", "参数校验"]
    pytest_mark: "approval"
  steps:
    request:
      method: "PUT"
      url: "/admin/notApprovalProject/1"
      headers:
        Content-Type: "application/json"
      params: {}
      json: {}
    expected:
      status_code: 400
      response:
        code: 400
        msg: "reason is required"
        data: {}
not_approval_project_boundary_empty_reason:
  allure:
    title: "项目审批-边界场景-reason为空字符串"
    description: "验证当reason参数为空字符串时，接口返回参数校验错误"
    epic: "项目管理系统"
    feature: "项目审批模块"
    story: "项目不通过审批"
    tag: ["边界场景", "参数校验"]
    pytest_mark: "approval"
  steps:
    request:
      method: "PUT"
      url: "/admin/notApprovalProject/1"
      headers:
        Content-Type: "application/json"
      params:
        reason: ""
      json: {}
    expected:
      status_code: 400
      response:
        code: 400
        msg: "reason cannot be empty"
        data: {}