user_login_normal_correct_credentials:
  allure:
    title: "用户登录-正常场景-正确账号密码登录成功"
    description: "验证用户使用正确的账号密码登录接口，能正常返回登录Token，业务响应码为200"
    epic: "用户中心系统"
    feature: "用户认证模块"
    story: "账号密码登录"
    tag: ["正常场景", "冒烟用例"]
    pytest_mark: "smoke"
  steps:
    request:
      method: "POST"
      url: "/login"
      headers:
        Content-Type: "application/json"
      params: {}
      json:
        username: "test_user"
        password: "test123"
    expected:
      status_code: 200
      response:
        code: 200
        msg: "登录成功"
        data:
          required_fields: ["token"]
          assert:
            type:
              token: str
    extract:
      login_token: $.data.token
user_login_abnormal_wrong_password:
  allure:
    title: "用户登录-异常场景-错误密码登录失败"
    description: "验证用户使用错误的密码登录，接口返回密码错误提示，HTTP状态码401，业务响应码401"
    epic: "用户中心系统"
    feature: "用户认证模块"
    story: "账号密码登录"
    tag: ["异常场景", "功能测试"]
    pytest_mark: "login"
  steps:
    request:
      method: "POST"
      url: "/login"
      headers:
        Content-Type: "application/json"
      params: {}
      json:
        username: "test_user"
        password: "wrong_password"
    expected:
      status_code: 401
      response:
        code: 401
        msg: "密码错误"
        data: {}
user_login_boundary_empty_password:
  allure:
    title: "用户登录-边界场景-密码为空"
    description: "验证用户提交空密码登录，接口返回参数错误提示，HTTP状态码400，业务响应码400"
    epic: "用户中心系统"
    feature: "用户认证模块"
    story: "账号密码登录"
    tag: ["边界场景", "参数验证"]
    pytest_mark: "login"
  steps:
    request:
      method: "POST"
      url: "/login"
      headers:
        Content-Type: "application/json"
      params: {}
      json:
        username: "test_user"
        password: ""
    expected:
      status_code: 400
      response:
        code: 400
        msg: "密码不能为空"
        data: {}