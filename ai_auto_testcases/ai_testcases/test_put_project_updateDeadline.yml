updateDeadline_normal_valid_deadline:
  allure:
    title: "项目截止日期更新-正常场景-有效日期格式更新成功"
    description: "验证提供有效的项目ID和截止日期，接口能成功更新截止日期，返回业务码200"
    epic: "项目管理系统"
    feature: "项目管理模块"
    story: "项目截止日期更新"
    tag: ["正常场景", "核心功能"]
    pytest_mark: "smoke"
  steps:
    request:
      method: "PUT"
      url: "/project/updateDeadline"
      headers:
        Content-Type: "application/json"
        Authorization: "${token}"
      json:
        id: 1
        deadline: "2023-12-31T23:59:59Z"
    expected:
      status_code: 200
      response:
        code: 200
        msg: "操作成功"
        assert:
          type:
            data: dict
        data:
          required_fields: ["id", "deadline", "projectName", "status"]
          assert:
            eq:
              id: 1
            type:
              deadline: str
            regex:
              deadline: "^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z$"
    extract: {}
updateDeadline_abnormal_invalid_date_format:
  allure:
    title: "项目截止日期更新-异常场景-日期格式无效"
    description: "验证提供格式错误的截止日期（如月份13），接口返回参数错误提示"
    epic: "项目管理系统"
    feature: "项目管理模块"
    story: "项目截止日期更新"
    tag: ["异常场景", "参数验证"]
    pytest_mark: ""
  steps:
    request:
      method: "PUT"
      url: "/project/updateDeadline"
      headers:
        Content-Type: "application/json"
        Authorization: "${token}"
      json:
        id: 1
        deadline: "2023-13-01"
    expected:
      status_code: 200
      response:
        code: 400
        msg: "deadline格式错误，应为ISO8601格式"
        assert:
          eq:
            data: null
    extract: {}