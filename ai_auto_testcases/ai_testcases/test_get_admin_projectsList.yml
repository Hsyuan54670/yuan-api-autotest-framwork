get_projects_list_normal_default_params:
  allure:
    title: "项目列表查询-正常场景-默认分页参数查询成功"
    description: "验证使用默认分页参数（page=1, size=5）查询项目列表，接口返回成功，业务响应码为200，数据包含预期字段"
    epic: "项目管理平台"
    feature: "项目管理模块"
    story: "项目列表分页查询"
    tag: ["正常场景", "冒烟用例"]
    pytest_mark: "smoke"
  steps:
    request:
      method: "GET"
      url: "/admin/projectsList"
      headers: {}
      params:
        page: 1
        size: 5
      json: {}
    expected:
      status_code: 200
      response:
        code: 200
        msg: "操作成功"
        data:
          required_fields: ["records"]
          assert:
            type:
              records: list
          list_check:
            records:
              length: 5
              every_item_required_fields:
                - "id"
                - "projectName"
                - "projectType"
                - "applicant"
                - "funds"
                - "status"
    extract:
      first_project_id: $.data.records[0].id
get_projects_list_abnormal_page_not_integer:
  allure:
    title: "项目列表查询-异常场景-page参数非整数"
    description: "验证page参数传入非整数值（如字符串），接口返回参数错误，业务响应码为400"
    epic: "项目管理平台"
    feature: "项目管理模块"
    story: "项目列表分页查询"
    tag: ["异常场景", "参数验证"]
    pytest_mark: ""
  steps:
    request:
      method: "GET"
      url: "/admin/projectsList"
      headers: {}
      params:
        page: "abc"
        size: 5
      json: {}
    expected:
      status_code: 400
      response:
        code: 400
        msg: "page参数必须为整数"
        data: null
get_projects_list_boundary_page_zero:
  allure:
    title: "项目列表查询-边界场景-page参数为0"
    description: "验证page参数传入0，接口返回参数错误，业务响应码为400"
    epic: "项目管理平台"
    feature: "项目管理模块"
    story: "项目列表分页查询"
    tag: ["边界场景", "参数验证"]
    pytest_mark: ""
  steps:
    request:
      method: "GET"
      url: "/admin/projectsList"
      headers: {}
      params:
        page: 0
        size: 5
      json: {}
    expected:
      status_code: 400
      response:
        code: 400
        msg: "page参数必须大于0"
        data: null