get_project_timeline_normal_success:
  allure:
    title: "获取项目时间线-正常场景-根据有效项目ID成功获取时间线"
    description: "验证通过有效的项目ID能够成功获取项目时间线，响应状态码为200，业务码为200，返回数据结构正确"
    epic: "项目管理平台"
    feature: "项目详情模块"
    story: "获取项目时间线"
    tag: ["正常场景", "冒烟用例"]
    pytest_mark: "smoke"
  steps:
    request:
      method: GET
      url: /project/getTimeLines/1001
      headers:
        Content-Type: "application/json"
        Authorization: "${login_token}"
      params: {}
      json: {}
    expected:
      status_code: 200
      response:
        code: 200
        msg: "success"
        data:
          required_fields: []
          assert:
            eq: {}
            contains: {}
            regex: {}
            type: {}
    extract: {}

get_project_timeline_abnormal_invalid_id_negative:
  allure:
    title: "获取项目时间线-异常场景-项目ID为负数时请求失败"
    description: "验证当项目ID为负数时，接口应拒绝请求并返回400业务错误码"
    epic: "项目管理平台"
    feature: "项目详情模块"
    story: "获取项目时间线"
    tag: ["异常场景", "边界值测试"]
    pytest_mark: ""
  steps:
    request:
      method: GET
      url: /project/getTimeLines/-1
      headers:
        Content-Type: "application/json"
        Authorization: "${login_token}"
      params: {}
      json: {}
    expected:
      status_code: 200
      response:
        code: 400
        msg: "请求参数不合法"
        data:
          required_fields: []
          assert:
            contains:
              msg: "非法项目ID"

get_project_timeline_abnormal_invalid_id_zero:
  allure:
    title: "获取项目时间线-异常场景-项目ID为0时请求失败"
    description: "验证当项目ID为0时，接口应拒绝请求并返回400业务错误码"
    epic: "项目管理平台"
    feature: "项目详情模块"
    story: "获取项目时间线"
    tag: ["异常场景", "边界值测试"]
    pytest_mark: ""
  steps:
    request:
      method: GET
      url: /project/getTimeLines/0
      headers:
        Content-Type: "application/json"
        Authorization: "${login_token}"
      params: {}
      json: {}
    expected:
      status_code: 200
      response:
        code: 400
        msg: "请求参数不合法"
        data:
          required_fields: []
          assert:
            contains:
              msg: "非法项目ID"

get_project_timeline_abnormal_unauthorized_access:
  allure:
    title: "获取项目时间线-异常场景-未登录时无法访问接口"
    description: "验证未携带token时调用接口，返回401未授权"
    epic: "项目管理平台"
    feature: "项目详情模块"
    story: "获取项目时间线"
    tag: ["异常场景", "安全测试"]
    pytest_mark: "security"
  steps:
    request:
      method: GET
      url: /project/getTimeLines/1001
      headers:
        Content-Type: "application/json"
      params: {}
      json: {}
    expected:
      status_code: 401
      response:
        code: 401
        msg: "用户未登录"
        data:
          required_fields: []
          assert:
            eq:
              code: 401
            contains:
              msg: "未登录"