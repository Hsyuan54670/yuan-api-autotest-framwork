get_funds_list_normal_success:
  allure:
    title: 获取经费类型列表-正常场景-请求成功
    description: 验证用户发起获取经费类型列表请求，接口返回正确的状态码和业务数据
    epic: 项目管理平台
    feature: 经费管理模块
    story: 获取经费类型列表
    tag: ["正常场景", "冒烟用例"]
    pytest_mark: smoke
  steps:
    request:
      method: GET
      url: /admin/funds
      headers: {}
      params: {}
      json: {}
    expected:
      status_code: 200
      response:
        code: 200
        msg: success
        data:
          required_fields: []
          assert:
            eq:
              msg: "success"
            type:
              code: int
              msg: str
          list_check: {}
    extract: {}

get_funds_list_abnormal_unauthorized:
  allure:
    title: 获取经费类型列表-异常场景-未登录无权限访问
    description: 验证未携带认证Token时，访问经费类型列表接口应返回401或403权限错误
    epic: 项目管理平台
    feature: 经费管理模块
    story: 获取经费类型列表
    tag: ["异常场景", "权限校验"]
    pytest_mark: regression
  steps:
    request:
      method: GET
      url: /admin/funds
      headers: {}
      params: {}
      json: {}
    expected:
      status_code: 401
      response:
        code: 401
        msg: "Unauthorized"
        data:
          assert:
            contains:
              msg: "Unauthorized"
            type:
              code: int
              msg: str