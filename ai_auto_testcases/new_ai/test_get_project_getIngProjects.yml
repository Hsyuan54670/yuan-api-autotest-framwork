get_ing_projects_normal_success:
  allure:
    title: "获取进行中项目-正常场景-成功返回进行中项目列表"
    description: "验证当前用户调用获取进行中项目接口时，能正常返回状态为进行中的项目数据，业务响应码为200"
    epic: "项目管理平台"
    feature: "项目查询模块"
    story: "获取进行中项目"
    tag: ["正常场景", "冒烟用例"]
    pytest_mark: "smoke"
  steps:
    request:
      method: "GET"
      url: "/project/getIngProjects"
      headers:
        Authorization: "${token}"
    expected:
      status_code: 200
      response:
        code: 200
        msg: "success"
        data:
          required_fields: ["id", "projectName", "projectType", "applicant", "funds", "remainingFunds", "status"]
          assert:
            type:
              id: int
              projectName: str
              projectType: str
              applicant: str
              funds: float
              remainingFunds: float
              status: int
            eq:
              status: 1
          list_check:
            data:
              length: 5
              every_item_required_fields:
                - "id"
                - "projectName"
                - "projectType"
                - "applicant"
                - "funds"
                - "remainingFunds"
                - "status"
    extract:
      ing_project_list: $.data

get_ing_projects_abnormal_unauthorized_no_token:
  allure:
    title: "获取进行中项目-异常场景-未携带Token认证信息"
    description: "验证未携带JWT Token调用接口时，系统应拒绝访问并返回401或400错误"
    epic: "项目管理平台"
    feature: "项目查询模块"
    story: "获取进行中项目"
    tag: ["异常场景", "安全测试"]
    pytest_mark: ""
  steps:
    request:
      method: "GET"
      url: "/project/getIngProjects"
      headers: {}
    expected:
      status_code: 400
      response:
        code: 400
        msg: "请求失败"
        data: null

get_ing_projects_boundary_empty_result:
  allure:
    title: "获取进行中项目-边界场景-无进行中项目返回空列表"
    description: "验证当前用户没有状态为进行中的项目时，接口应返回空数组但业务码仍为成功"
    epic: "项目管理平台"
    feature: "项目查询模块"
    story: "获取进行中项目"
    tag: ["边界场景", "功能测试"]
    pytest_mark: "regression"
  steps:
    request:
      method: "GET"
      url: "/project/getIngProjects"
      headers:
        Authorization: "${token}"
    expected:
      status_code: 200
      response:
        code: 200
        msg: "success"
        data:
          assert:
            eq:
              data: []