delete_account_normal_existing_id:
  allure:
    title: 删除账号-正常场景-使用存在的账号ID删除成功
    description: 验证管理员使用存在的账号ID调用删除接口，能够成功删除账号并返回业务码200
    epic: 用户中心系统
    feature: 账号管理模块
    story: 删除账号
    tag: ["正常场景", "冒烟用例"]
    pytest_mark: smoke
  steps:
    request:
      method: DELETE
      url: /admin/deleteAccount/3001
      headers:
        Authorization: "${admin_token}"
      params: {}
      json: {}
    expected:
      status_code: 200
      response:
        code: 200
        msg: "success"
        data:
          required_fields: []
          assert:
            eq:
              code: 200
            contains:
              msg: "success"
    extract: {}

delete_account_abnormal_nonexistent_id:
  allure:
    title: 删除账号-异常场景-使用不存在的账号ID删除失败
    description: 验证使用一个不存在的账号ID调用删除接口，系统应返回请求失败，业务码400
    epic: 用户中心系统
    feature: 账号管理模块
    story: 删除账号
    tag: ["异常场景", "边界值测试"]
    pytest_mark: regression
  steps:
    request:
      method: DELETE
      url: /admin/deleteAccount/999999
      headers:
        Authorization: "${admin_token}"
      params: {}
      json: {}
    expected:
      status_code: 200
      response:
        code: 400
        msg: "fail"
        data:
          required_fields: []
          assert:
            eq:
              code: 400
            contains:
              msg: "fail"
    extract: {}

delete_account_abnormal_unauthorized:
  allure:
    title: 删除账号-异常场景-未登录用户删除账号被拒绝
    description: 验证未携带JWT Token的用户调用删除接口，系统应拒绝请求，返回400或鉴权相关错误码
    epic: 用户中心系统
    feature: 账号管理模块
    story: 删除账号
    tag: ["异常场景", "权限测试"]
    pytest_mark: auth
  steps:
    request:
      method: DELETE
      url: /admin/deleteAccount/3001
      headers: {}
      params: {}
      json: {}
    expected:
      status_code: 400
      response:
        code: 400
        msg: "fail"
        data:
          required_fields: []
          assert:
            eq:
              code: 400
    extract: {}