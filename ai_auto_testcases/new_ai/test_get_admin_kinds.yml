get_project_kinds_normal_success:
  allure:
    title: "获取项目种类列表-正常场景-请求成功"
    description: "验证用户发起GET请求获取项目种类列表，接口返回200状态码，业务码为200，且返回数据中包含项目种类列表"
    epic: "项目管理平台"
    feature: "项目配置模块"
    story: "获取项目种类列表"
    tag: ["正常场景", "冒烟用例"]
    pytest_mark: "smoke"
  steps:
    request:
      method: GET
      url: /admin/kinds
      headers: {}
      params: {}
      json: {}
    expected:
      status_code: 200
      response:
        code: 200
        msg: "success"
        data:
          required_fields: ["kinds"]
          assert:
            eq:
              msg: "success"
            type:
              code: int
              data: dict
          list_check:
            kinds:
              length: 5
              every_item_required_fields:
                - "id"
                - "name"
    extract:
      project_kinds_list: $.data.kinds

get_project_kinds_abnormal_unauthorized_missing_token:
  allure:
    title: "获取项目种类列表-异常场景-未携带Token认证信息"
    description: "验证未在请求头中携带JWT Token时，访问受保护的项目种类列表接口，应返回401或403权限错误"
    epic: "项目管理平台"
    feature: "项目配置模块"
    story: "获取项目种类列表"
    tag: ["异常场景", "安全测试"]
    pytest_mark: ""
  steps:
    request:
      method: GET
      url: /admin/kinds
      headers: {}
      params: {}
      json: {}
    expected:
      status_code: 401
      response:
        code: 401
        msg: "Unauthorized"
        data:
          required_fields: []